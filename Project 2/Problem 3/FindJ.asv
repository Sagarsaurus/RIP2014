stepSize = 2 * pi / 100;
q = sym('q', [1 3]);
l = sym('l', [1 3]);
x = sym('x', [1 3]);
c = cos(q);
s = sin(q);
%T1 = [c(1), -s(1),    0; s(1), c(1), 0; 0, 0, 1];
%T2 = [c(2), -s(2), l(1); s(2), c(2), 0; 0, 0, 1];
%T3 = [c(3), -s(3), l(2); s(3), c(3), 0; 0, 0, 1];
%T4 = [   1,     0, l(3);    0,    2, 0; 0, 0, 1];
%fD  = T1 * T2 * T3 * T4
f = [l(1)*c(1) + l(2)*c(2) + l(3)*c(3);
     l(1)*s(1) + l(2)*s(2) + l(3)*s(3);
          q(1) +      q(2) +      q(3)];
J = jacobian(f, q)
iJ = inv(J)